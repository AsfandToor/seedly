{"version":3,"sources":["../../../src/core/server.ts"],"sourcesContent":["import {\n  McpServer,\n  ResourceTemplate,\n} from '@modelcontextprotocol/sdk/server/mcp.js';\nimport { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';\nimport { z } from 'zod';\n\nexport default class SeederMCPServer {\n  private server: McpServer;\n\n  constructor() {\n    this.server = new McpServer({\n      name: 'seeder',\n      version: '1.0.0',\n    });\n  }\n\n  public async addTool() {\n    this.server.tool(\n      'list-tables',\n      { all: z.boolean() },\n      async ({ all }) => ({\n        content: [{ type: 'text', text: String(all) }],\n      }),\n    );\n  }\n\n  public async addResource() {\n    this.server.resource(\n      'tables',\n      new ResourceTemplate('tables://{name}', {\n        list: undefined,\n      }),\n      async (uri, { name }) => ({\n        contents: [\n          {\n            uri: uri.href,\n            text: `Tables: ${name}`,\n          },\n        ],\n      }),\n    );\n  }\n\n  public async start() {\n    const transport = new StdioServerTransport();\n    await this.addTool();\n    await this.addResource();\n    await this.server.connect(transport);\n  }\n}\n"],"names":["SeederMCPServer","addTool","server","tool","all","z","boolean","content","type","text","String","addResource","resource","ResourceTemplate","list","undefined","uri","name","contents","href","start","transport","StdioServerTransport","connect","constructor","McpServer","version"],"mappings":";;;;;;;eAOqBA;;;qBAJd;uBAC8B;qBACnB;;;;;;;;;;;;;;AAEH,MAAMA;IAUnB,MAAaC,UAAU;QACrB,IAAI,CAACC,MAAM,CAACC,IAAI,CACd,eACA;YAAEC,KAAKC,MAAC,CAACC,OAAO;QAAG,GACnB,OAAO,EAAEF,GAAG,EAAE,GAAM,CAAA;gBAClBG,SAAS;oBAAC;wBAAEC,MAAM;wBAAQC,MAAMC,OAAON;oBAAK;iBAAE;YAChD,CAAA;IAEJ;IAEA,MAAaO,cAAc;QACzB,IAAI,CAACT,MAAM,CAACU,QAAQ,CAClB,UACA,IAAIC,qBAAgB,CAAC,mBAAmB;YACtCC,MAAMC;QACR,IACA,OAAOC,KAAK,EAAEC,IAAI,EAAE,GAAM,CAAA;gBACxBC,UAAU;oBACR;wBACEF,KAAKA,IAAIG,IAAI;wBACbV,MAAM,CAAC,QAAQ,EAAEQ,MAAM;oBACzB;iBACD;YACH,CAAA;IAEJ;IAEA,MAAaG,QAAQ;QACnB,MAAMC,YAAY,IAAIC,2BAAoB;QAC1C,MAAM,IAAI,CAACrB,OAAO;QAClB,MAAM,IAAI,CAACU,WAAW;QACtB,MAAM,IAAI,CAACT,MAAM,CAACqB,OAAO,CAACF;IAC5B;IAvCAG,aAAc;QAFd,uBAAQtB,UAAR,KAAA;QAGE,IAAI,CAACA,MAAM,GAAG,IAAIuB,cAAS,CAAC;YAC1BR,MAAM;YACNS,SAAS;QACX;IACF;AAmCF"}